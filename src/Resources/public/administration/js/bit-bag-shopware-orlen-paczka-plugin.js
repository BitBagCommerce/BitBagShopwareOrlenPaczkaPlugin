!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/bitbagshopwareorlenpaczkaplugin/",n(n.s="T/8f")}({"9wK3":function(e,t){e.exports='{% block bitbag_orlen_pickup_settings_base %}\n    <sw-page>\n        <template #smart-bar-header>\n            <h2>{{ $tc(\'config.apiConfiguration\') }}</h2>\n        </template>\n        <template #smart-bar-actions>\n            <sw-button variant="contrast" @click="checkCredentials">\n                {{ $tc(\'config.checkCredentials\') }}\n            </sw-button>\n\n            <sw-button variant="primary" @click="saveCredentials">\n                {{ $tc(\'global.default.save\') }}\n            </sw-button>\n        </template>\n        <template #content>\n            <sw-card-view>\n                <sw-card :isLoading="isLoading">\n                    <sw-alert variant="warning">{{ $tc(\'config.credentialsWarning\') }}</sw-alert>\n                    <sw-system-config\n                        ref="systemConfig"\n                        sales-channel-switchable\n                        :domain="pluginDomain"\n                    />\n                </sw-card>\n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}\n'},KVFI:function(e,t){},"T/8f":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,n,r,u,l,f=s(p);function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bitbag-orlen-paczka-plugin";return i(this,p),f.call(this,e,t,n)}return t=p,(n=[{key:"checkCredentials",value:(u=regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpClient.post("_action/".concat(this.getApiBasePath(),"/credentials/check"),{username:t,password:n,environment:r},{headers:this.getBasicHeaders()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=u.apply(e,t);function a(e){o(i,n,r,a,c,"next",e)}function c(e){o(i,n,r,a,c,"throw",e)}a(void 0)}))},function(e,t,n){return l.apply(this,arguments)})}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(Shopware.Classes.ApiService);Shopware.Application.addServiceProvider("orlenCredentialsService",(function(e){var t=Shopware.Application.getContainer("init");return new f(t.httpClient,e.loginService)}));n("ko9o"),n("KVFI");var p=n("9wK3"),d=n.n(p);function g(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}Shopware.Component.register("bitbag-orlen-pickup-settings-base",{template:d.a,inject:["systemConfigApiService","orlenCredentialsService"],mixins:["notification"],data:function(){return{isLoading:!0,pluginDomain:"BitBagShopwareOrlenPaczkaPlugin.orlen",username:"",password:"",environment:"",salesChannel:null}},created:function(){this.isLoading=!1},methods:{checkCredentials:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n,r,o,i,a,c,s,u,l,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.$refs.systemConfig,i=o.actualConfigData,a=o.currentSalesChannelId,c=t.pluginDomain+".",u=function(e){return t.createNotificationError({title:t.$tc("config.field.missing"),message:t.$tc("config.field.missing")+": "+t.$tc("config.field."+e)})},l=null!==(n=(s=function(e){var t=c+e,n=i[a][t];return null==n&&(n=i.null[t]),n})("username"))&&void 0!==n?n:u("username"),f=null!==(r=s("password"))&&void 0!==r?r:u("password"),p=s("environment"),e.prev=9,e.next=12,t.orlenCredentialsService.checkCredentials(l,f,p);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),d=e.t0.response.data.errors[0].detail,u(d);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,c,"next",e)}function c(e){g(i,r,o,a,c,"throw",e)}a(void 0)}))})()},saveCredentials:function(){this.$refs.systemConfig.saveAll(),this.createNotificationSuccess({message:this.$tc("config.saved")})}}}),Shopware.Module.register("bitbag-orlen-pickup",{type:"plugin",name:"Orlen Paczka settings",title:"Orlen Paczka settings",description:"Orlen Paczka settings",version:"1.0.0",targetVersion:"1.0.0",color:"#FFD700",icon:"default-action-settings",routes:{index:{component:"bitbag-orlen-pickup-settings-base",path:"index",meta:{parentPath:"sw.settings.index"}}},settingsItem:{group:"plugins",to:"bitbag.orlen.pickup.settings.index",iconComponent:"bitbag-orlen-pickup-settings-icon",backgroundEnabled:!1}})},ko9o:function(e,t){}});